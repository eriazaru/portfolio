import{r as t,j as e,R as v,u as N}from"./index-DXMmK4B6.js";import{u as k}from"./useAnimateOnVisible-BcTfq7Xd.js";import{H as I}from"./HeaderText-BlDMhA5h.js";function M({groupedCertificates:n,closeModal:c,selectedGroup:x,initialIndex:d}){const[o,m]=t.useState(d),[p,b]=t.useState(!1),r=t.useMemo(()=>n[x],[n,x]),l=t.useMemo(()=>r.length,[r]),h=r[o],j=t.useCallback(s=>{s.target===s.currentTarget&&a()},[c]),a=t.useCallback(()=>{b(!0),setTimeout(()=>{c()},500)},[c]),i=t.useCallback(()=>{o>0&&setTimeout(()=>{m(s=>s-1)},100)},[o]),u=t.useCallback(()=>{o<l-1&&setTimeout(()=>{m(s=>s+1)},100)},[o,l]),g=t.useCallback(s=>{m(s)},[]),y=t.useMemo(()=>r.map((s,f)=>e.jsx("div",{className:"w-full md:h-[40rem] inset-0 items-center transition ease-in-out duration-300 flex-shrink-0",style:{transform:`translateX(-${o*100}%)`},children:e.jsx("img",{className:"object-cover",src:`./src/assets/certificate/${s.type}/${s.src}`,alt:s.name})},f)),[r,o]),w=t.useMemo(()=>e.jsxs("div",{className:"flex justify-between py-4",children:[e.jsx(v,{beforeInjection:s=>{s.classList.add("size-5","md:size-10","fill-slate-400","ease-in","duration-200","hover:fill-slate-300")},src:"./src/assets/icons/components/arrow-left.svg",className:`${o===0?"opacity-50":"cursor-pointer"}`,onClick:i}),e.jsx("div",{className:"overflow-clip duration-500",children:e.jsx("p",{className:"text-sm md:text-2xl content-center items-center duration-200",children:h.name})}),e.jsx(v,{beforeInjection:s=>{s.classList.add("size-5","md:size-10","fill-slate-400","ease-in","duration-200","hover:fill-slate-300")},src:"./src/assets/icons/components/arrow-right.svg",className:`${o===l-1?"opacity-50":"cursor-pointer"}`,onClick:u})]}),[h.name,o,l,i,u]),C=t.useMemo(()=>e.jsx("div",{className:"flex space-x-3 bottom-5 justify-center mt-5 mb-3",children:r.map((s,f)=>e.jsx("button",{className:`w-3 h-3 rounded-full ${o===f?"bg-amber-400":"bg-gray-400"}`,onClick:()=>g(f)},f))}),[r,o,g]);return e.jsx("div",{onClick:j,className:"fixed inset-0 z-50 w-full h-full flex items-start justify-center bg-black bg-opacity-60 overflow-y-auto",children:e.jsxs("div",{className:`${p?"animate-out fade-out slide-out-to-top-36 ":""} h-auto w-[55rem] m-4 border border-amber-600 bg-slate-950 rounded-lg cursor animate-in fade-in slide-in-from-top-36 duration-700`,children:[e.jsx("div",{className:"flex justify-end items-center text-center p-2 md:p-5 border-b-[1px] border-amber-600 inset-0",children:e.jsx(v,{beforeInjection:s=>{s.classList.add("size-6","ease-in-out","duration-200","hover:scale-110","cursor-pointer","md:size-9")},src:"./src/assets/icons/components/close-square.svg",onClick:a})}),e.jsx("div",{className:"flex flex-row overflow-hidden m-3 md:m-5",children:y}),e.jsxs("div",{className:"relative font-poppins font-bold text-slate-200 text-center pb-5 md:pb-10 px-5",children:[w,C]})]})})}function z(){const{data:n}=N(),{sectionRef:c,visibleItems:x}=k((n==null?void 0:n.certificates)||[],100,.5),[d,o]=t.useState(!1),[m,p]=t.useState(null),[b,r]=t.useState(null),l=t.useMemo(()=>(n==null?void 0:n.certificates.reduce((a,i)=>(a[i.group]||(a[i.group]=[]),a[i.group].push(i),a),{}))||{},[n==null?void 0:n.certificates]),h=(a,i)=>{p(a),r(i),o(!0)},j=()=>{o(!1),p(null),r(null)};return t.useEffect(()=>(d?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[d]),e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"m-6",id:"certifications",ref:c,children:[e.jsx(I,{number:"03.",title:"Certifications",justify:"center",observerRef:c,animationDirection:"top",threshold:.4}),e.jsx("div",{className:"flex flex-wrap mx-auto flex-row justify-center items-start gap-3 md:gap-5",children:l&&Object.entries(l).map(([a,i],u)=>e.jsxs("div",{onClick:()=>h(a,0),className:`pb-2 items-center justify-center text-center bg-slate-900 max-w-36 md:max-w-72 lg:w-1/2 h-auto outline-amber-400 outline-1 hover:outline hover:drop-shadow-2xl hover:-translate-y-2 hover:cursor-pointer ${x[u]?"animate-in fade-in slide-in-from-bottom-36":"opacity-0"} duration-500`,children:[e.jsx("img",{className:"align-center md:max-h-44 w-auto md:w-72",src:`./src/assets/certificate/${i[0].type}/${i[0].src}`,alt:i[0].name}),e.jsx("span",{className:"align-center w-auto font-poppins font-base text-xs md:text-base pb-2",children:i[0].group})]},u))})]}),d&&m&&b!==null&&e.jsx(M,{groupedCertificates:l,closeModal:j,selectedGroup:m,initialIndex:b})]})}export{z as default};
